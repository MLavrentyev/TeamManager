{% extends './base.html' %}
{% load static %}


{% block title %}List{% endblock %}

{% block css %}
    <link rel="stylesheet" type="text/css" href="{% static 'purchaseRequests/css/style.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'purchaseRequests/css/list.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'purchaseRequests/css/nav_bar.css' %}">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css"
          integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp"
          crossorigin="anonymous">
{% endblock %}

{% block content %}
    <div id="content">
        <h1>Welcome to the list page!</h1>
        <table id="reqlist">
            <thead>
                <tr>
                    <th class="date">Date</th>
                    <th class="item">Item</th>
                    <th class="qty">Quantity</th>
                    <th class="tcost">Total Cost</th>
                    <th class="link">Link</th>
                    <th class="approved">Approved?</th>
                </tr>
            </thead>
            <tbody>
                {% for pur_req in pur_req_list %}
                <tr onclick="location.href = '{% url 'detail' pur_req.id %}';">
                    <td class="date">{{ pur_req.timestamp|date:'n/d/y' }}</td>
                    <td class="item">{{ pur_req.item }}</td>
                    <td class="qty">{{ pur_req.quantity }}</td>
                    <td class="tcost">${{ pur_req.line_total }}</td>
                    <td class="link">
                        <a href="{{ pur_req.link }}">{{ pur_req.link }}</a>
                    </td>
                    <td class="approved">
                        {% if pur_req.approved %}
                        <i class="fas fa-check"></i>
                        {% elif pur_req.approved == False %}
                        <i class="fas fa-times"></i>
                        {% else %}
                        <i class="fas fa-question"></i>
                        {% endif %}
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
{% endblock %}