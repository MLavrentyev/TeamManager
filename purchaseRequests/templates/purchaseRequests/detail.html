{% extends './base.html' %}
{% load staticfiles %}


{% block title %}Purchase Request for {{ pur_req.item }}{% endblock %}

{% block css %}
    <link rel="stylesheet" type="text/css" href="{% static 'purchaseRequests/css/detail.css' %}">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css"
          integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp"
          crossorigin="anonymous">
{% endblock %}

{% block content %}
    <div id="detail-div">

        {% if pur_req.author == user or user.is_superuser %}
        <a id="edit-button" href="{% url 'purchaseRequests:edit' pur_req.id %}">Edit</a>
        {% endif %}

        <h1 id="item-title">{{ pur_req.item }}</h1>
        <ul>
            <li>Cost: ${{ pur_req.cost }} x {{ pur_req.quantity }} = ${{ pur_req.line_total }}</li>
            <li>Time Added: {{ pur_req.timestamp }}</li>
            <li>Requester: {{ pur_req.author.username }}</li>
            <li id="link"><a href="{{ pur_req.link }}">{{ pur_req.link }}</a></li>
        </ul>
        <form id="approval-states-container" method="post" action="{% url 'purchaseRequests:detail' pur_req.id %}">
            {% csrf_token %}
            <table id="approval-states-table">
                <tr>
                    <td id="td-denied" class="{{ state.0 }} {{ selectable }}">
                        <button class="approval-button" type="submit" name="den-but"
                                form="approval-states-container" {{ disable_buttons }}>
                            <i class="fas fa-times"></i>
                        </button>
                    </td>
                    <td id="td-undecided" class="{{ state.1 }} {{ selectable }}">
                        <button class="approval-button" type="submit" name="und-but"
                                form="approval-states-container" {{ disable_buttons }}>
                            <i class="fas fa-question"></i>
                        </button>
                    </td>
                    <td id="td-approved" class="{{ state.2 }} {{ selectable }}">
                        <button class="approval-button" type="submit" name="app-but"
                                form="approval-states-container" {{ disable_buttons }}>
                            <i class="fas fa-check"></i>
                        </button>
                    </td>
                </tr>
            </table>
        </form>
    </div>
{% endblock %}